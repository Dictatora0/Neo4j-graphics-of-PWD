# 🏠 本地 Jupyter 环境快速开始

## ✨ 简介

现在你可以在本地编译器（如 VS Code）使用 Jupyter 插件运行这些 notebooks，无需上传文件到 Google Colab！

---

## 🚀 快速开始（3 步）

### 步骤 1: 打开 Notebook

在 VS Code 或其他支持 Jupyter 的编译器中打开：

```
notebooks/00_环境设置.ipynb
```

### 步骤 2: 运行环境检测

运行前几个单元格，系统会自动检测到你在**本地 Jupyter 环境**。

### 步骤 3: 自动读取文献

运行 **"方式 D：本地文件系统"** 单元格，它会**自动检测并读取**：

```
/Users/lifulin/Desktop/PWD/文献
```

✅ **无需手动输入路径！**

---

## 📋 完整操作流程

### 1️⃣ 安装依赖（首次运行）

```bash
cd /Users/lifulin/Desktop/PWD/notebooks
pip install -r ../requirements.txt
```

或者直接运行 notebook 中的安装单元格。

### 2️⃣ 运行 Notebook

按顺序运行单元格：

| 单元格            | 说明                 | 自动化程度    |
| ----------------- | -------------------- | ------------- |
| **检测运行环境**  | 识别为"本地 Jupyter" | 🤖 全自动     |
| **设置项目目录**  | 创建必要文件夹       | 🤖 全自动     |
| **方式 D**        | 读取本地文献目录     | 🤖 全自动     |
| **验证 PDF 文献** | 确认文件加载成功     | 🤖 全自动     |
| **配置参数**      | 设置 API Key         | ✋ 需手动配置 |

### 3️⃣ 配置 API（必需）

在 **"5. 配置参数"** 单元格中填写：

```python
'llm': {
    'api_key': 'sk-...',  # ⚠️ 填入你的 OpenAI API Key
    ...
}

'neo4j': {
    'uri': 'neo4j+s://...',  # ⚠️ 填入 Neo4j Aura URI
    'password': '...',       # ⚠️ 填入密码
}
```

### 4️⃣ 继续后续 Notebooks

```
01_PDF提取.ipynb → 02_概念提取.ipynb → 03_概念去重.ipynb → 04_Neo4j导入.ipynb
```

---

## 🎯 自动检测逻辑

**方式 D** 会按以下优先级自动搜索 PDF 文献：

1. ✅ `/Users/lifulin/Desktop/PWD/文献` （你的实际路径，**最高优先级**）
2. 项目同级目录 `/文献`
3. 项目内 `PROJECT_ROOT/文献`
4. 项目内 `PROJECT_ROOT/pdf_files`
5. 项目内 `PROJECT_ROOT/PDFs`

找到第一个包含 PDF 文件的目录后即停止搜索。

---

## 📊 本地环境 vs Colab 环境

| 特性         | 本地 Jupyter        | Google Colab            |
| ------------ | ------------------- | ----------------------- |
| **文献上传** | 🤖 自动读取本地路径 | ☁️ 需上传到 Drive       |
| **代码同步** | 🔄 自动同步源码     | 📤 需手动上传           |
| **会话持久** | ✅ 永久有效         | ⏰ 12 小时超时          |
| **文件访问** | 🚀 本地直接访问     | 🌐 网络访问             |
| **运行速度** | ⚡ 本地 CPU/GPU     | ☁️ Colab 分配资源       |
| **成本**     | 💰 仅 API 费用      | 💰 API + Pro 费用(可选) |

---

## ✅ 优势

### 对于你的场景

✅ **无需上传**：直接使用 `/Users/lifulin/Desktop/PWD/文献` 中的文件  
✅ **自动同步**：修改 `.py` 文件后自动同步到 `modules/`  
✅ **本地开发**：可以使用 VS Code 调试、Git 版本控制  
✅ **无限时长**：不受 Colab 12 小时限制

---

## 🔧 常见问题

### Q1: 找不到 PDF 文件？

**A**: 检查路径是否正确：

```bash
ls -la /Users/lifulin/Desktop/PWD/文献
```

如果路径不同，可以：

1. 在"方式 D"单元格中修改 `LOCAL_PDF_PATHS` 第一项
2. 或运行时手动输入路径

### Q2: 依赖安装失败？

**A**: 尝试：

```bash
pip install --upgrade pip
pip install -r requirements.txt --no-cache-dir
```

### Q3: 想在 Colab 和本地切换使用？

**A**: 可以！Notebook 会自动检测环境：

- 本地运行 → 自动使用方式 D（本地路径）
- Colab 运行 → 自动使用方式 A/B/C（上传文件）

### Q4: 如何更新代码？

**A**:

1. 修改 `/Users/lifulin/Desktop/PWD/*.py` 源文件
2. 重新运行"方式 D"单元格，代码会自动同步到 `modules/`

---

## 📝 下一步

运行完 `00_环境设置.ipynb` 后，打开：

```
01_PDF提取.ipynb
```

继续 PDF 文本提取步骤。

---

## 🆘 需要帮助？

查看详细文档：

- 📖 [README.md](./README.md) - 完整使用指南
- 🔧 [故障排除指南.md](./故障排除指南.md) - 常见问题解决
- 📚 [COLAB\_使用指南.md](./COLAB_使用指南.md) - Colab 详细说明

---

**开始使用**: 打开 `00_环境设置.ipynb` → 运行所有单元格 → 继续后续 notebooks

**祝你构建知识图谱顺利！** 🎉
