# æ¾æçº¿è™«ç—…çŸ¥è¯†å›¾è°±æ„å»ºç³»ç»Ÿ

<div align="center">

**åŸºäº PDF æ–‡çŒ®è‡ªåŠ¨æ„å»ºä¸“ä¸šé¢†åŸŸçŸ¥è¯†å›¾è°±**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org)
[![Neo4j](https://img.shields.io/badge/Neo4j-4.x%20%7C%205.x-green.svg)](https://neo4j.com)

</div>

---

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬ç³»ç»Ÿä»æ¾æçº¿è™«ç—…ï¼ˆPine Wilt Diseaseï¼ŒPWDï¼‰ç›¸å…³çš„ PDF å­¦æœ¯è®ºæ–‡ä¸­è‡ªåŠ¨æå–çŸ¥è¯†å®ä½“å’Œå…³ç³»ï¼Œæ„å»ºå¯å¯¼å…¥ Neo4j çš„çŸ¥è¯†å›¾è°±ã€‚é‡‡ç”¨å¤šç­–ç•¥å®ä½“è¯†åˆ«ã€è§„åˆ™ä¸ç»Ÿè®¡ç»“åˆçš„å…³ç³»æŠ½å–æ–¹æ³•ï¼Œå®ç°ä»æ–‡çŒ®åˆ°çŸ¥è¯†å›¾è°±çš„ç«¯åˆ°ç«¯è‡ªåŠ¨åŒ–å¤„ç†ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- **æ™ºèƒ½ PDF è§£æ**ï¼šè‡ªåŠ¨æå– PDF æ­£æ–‡ï¼Œè¿‡æ»¤é¡µçœ‰é¡µè„šå’Œå‚è€ƒæ–‡çŒ®ï¼Œæ”¯æŒç¼“å­˜ä¸å¹¶è¡Œå¤„ç†
- **å¤šç­–ç•¥å®ä½“è¯†åˆ«**ï¼šç»“åˆ TF-IDFã€YAKEã€KeyBERTã€spaCy NER ç­‰å¤šç§æ–¹æ³•ï¼Œæ”¯æŒå¤–éƒ¨é¢†åŸŸè¯å…¸
- **å…³ç³»è‡ªåŠ¨æŠ½å–**ï¼šåŸºäºæ­£åˆ™æ¨¡å¼åŒ¹é…å’Œå…±ç°åˆ†æï¼Œæ”¯æŒå…³ç³»æ–¹å‘æ ¡éªŒå’Œç½®ä¿¡åº¦åˆ†çº§
- **æ•°æ®æ™ºèƒ½æ¸…æ´—**ï¼šå»é‡ã€åŒä¹‰è¯åˆå¹¶ã€è´¨é‡è¿‡æ»¤ã€å®ä½“é“¾æ¥ä¸æ¶ˆæ­§
- **Neo4j é›†æˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆå¯¼å…¥æ–‡ä»¶ï¼ˆnodes.csvã€relations.csvï¼‰å’Œ Cypher è„šæœ¬
- **æ€§èƒ½ä¼˜åŒ–**ï¼šç¼“å­˜æœºåˆ¶ã€å¹¶è¡Œå¤„ç†ã€å¢é‡æ›´æ–°æ”¯æŒ

### é€‚ç”¨åœºæ™¯

- å­¦æœ¯ç ”ç©¶ä¸­çš„æ–‡çŒ®çŸ¥è¯†æ•´åˆ
- ç”Ÿç‰©åŒ»å­¦é¢†åŸŸçŸ¥è¯†å›¾è°±æ„å»º
- æ—ä¸šç—…è™«å®³çŸ¥è¯†åº“å»ºè®¾
- ç§‘ç ”çŸ¥è¯†ç®¡ç†å’Œæ£€ç´¢

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Neo4j 4.x æˆ– 5.xï¼ˆå¯é€‰ï¼‰

### å®‰è£…ä¾èµ–

```bash
# æ–¹æ³•ä¸€ï¼šä½¿ç”¨å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰
bash install.sh

# æ–¹æ³•äºŒï¼šæ‰‹åŠ¨å®‰è£…
pip install -r requirements.txt
python -m spacy download zh_core_web_sm
python -m spacy download en_core_web_sm
```

### è¿è¡Œç¨‹åº

```bash
# 1. å°†PDFæ–‡ä»¶æ”¾å…¥ æ–‡çŒ®/ ç›®å½•
# 2. è¿è¡Œä¸»ç¨‹åº
python main.py
```

ç¨‹åºå°†è‡ªåŠ¨æ‰§è¡Œå®Œæ•´çš„çŸ¥è¯†å›¾è°±æ„å»ºæµç¨‹ï¼š

1. PDF æ–‡æœ¬æå–
2. å®ä½“è¯†åˆ«
3. å…³ç³»æŠ½å–
4. æ•°æ®æ¸…æ´—
5. ç”Ÿæˆ Neo4j å¯¼å…¥æ–‡ä»¶

### å¯¼å…¥ Neo4j

```bash
# æ–¹æ³•ä¸€ï¼šä½¿ç”¨ä¿®æ­£åçš„æ•°æ®å¯¼å…¥ï¼ˆæ¨èï¼‰
# 1. ä¿®æ­£æ•°æ®è´¨é‡
python fix_and_import.py

# 2. å¯¼å…¥åˆ° Neo4j
python import_fixed_data.py

# æ–¹æ³•äºŒï¼šç›´æ¥å¯¼å…¥åŸå§‹æ•°æ®
python output/neo4j_import/import_to_neo4j.py
```

å¯¼å…¥å®Œæˆåè®¿é—®ï¼šhttp://localhost:7474

**å½“å‰æ•°æ®çŠ¶æ€**ï¼š
- èŠ‚ç‚¹æ•°: 37
- å…³ç³»æ•°: 46
- æ•°æ®è´¨é‡: 100/100 â­â­â­â­â­

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PDF æ–‡çŒ®   â”‚ --> â”‚  æ–‡æœ¬æå–   â”‚ --> â”‚  å®ä½“è¯†åˆ«   â”‚ --> â”‚  å…³ç³»æŠ½å–   â”‚ --> â”‚  æ•°æ®æ¸…æ´—   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         PyMuPDF           å¤šç­–ç•¥ NER          æ¨¡å¼åŒ¹é…           å»é‡/è§„èŒƒåŒ–
                                                               å…±ç°åˆ†æ
                                                                    |
                                                                    v
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                  Neo4j çŸ¥è¯†å›¾è°±                                 â”‚
                    â”‚              (å¯è§†åŒ–æŸ¥è¯¢ / çŸ¥è¯†æ¨ç†)                        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ•°æ®æ¨¡å‹

### å®ä½“ç±»å‹

| ç±»å‹                | è¯´æ˜     | ç¤ºä¾‹                                 |
| ------------------- | -------- | ------------------------------------ |
| Disease             | ç–¾ç—…     | æ¾æçº¿è™«ç—…ã€PWD                      |
| Pathogen            | ç—…åŸä½“   | æ¾æçº¿è™«ã€Bursaphelenchus xylophilus |
| Host                | å®¿ä¸»     | é©¬å°¾æ¾ã€é»‘æ¾                         |
| Vector              | ä¼ æ’­åª’ä»‹ | æ¾è¤å¤©ç‰›ã€Monochamus alternatus      |
| Symptom             | ç—‡çŠ¶     | é’ˆå¶å˜è‰²ã€èè”«                       |
| ControlMeasure      | é˜²æ§æªæ–½ | æ¸…ç†ç—…æ­»æ ‘ã€åŒ–å­¦é˜²æ²»                 |
| Region              | åœ°åŒº     | æµ™æ±Ÿã€æ±Ÿè‹                           |
| EnvironmentalFactor | ç¯å¢ƒå› ç´  | æ¸©åº¦ã€æ¹¿åº¦                           |

### å…³ç³»ç±»å‹

| å…³ç³»         | è¯´æ˜       | ç¤ºä¾‹                    |
| ------------ | ---------- | ----------------------- |
| hasPathogen  | æœ‰ç—…åŸä½“   | æ¾æçº¿è™«ç—… â†’ æ¾æçº¿è™«   |
| hasHost      | æœ‰å®¿ä¸»     | æ¾æçº¿è™«ç—… â†’ é©¬å°¾æ¾     |
| hasVector    | æœ‰ä¼ æ’­åª’ä»‹ | æ¾æçº¿è™«ç—… â†’ æ¾è¤å¤©ç‰›   |
| hasSymptom   | æœ‰ç—‡çŠ¶     | æ¾æçº¿è™«ç—… â†’ é’ˆå¶å˜è‰²   |
| controlledBy | è¢«æ§åˆ¶     | æ¾æçº¿è™«ç—… â†’ æ¸…ç†ç—…æ­»æ ‘ |
| occursIn     | å‘ç”Ÿåœ¨     | æ¾æçº¿è™«ç—… â†’ æµ™æ±Ÿ       |
| affectedBy   | å—å½±å“     | æ¾æçº¿è™«ç—… â†’ æ¸©åº¦       |
| transmits    | ä¼ æ’­       | æ¾è¤å¤©ç‰› â†’ æ¾æçº¿è™«     |
| infects      | æ„ŸæŸ“       | æ¾æçº¿è™« â†’ é©¬å°¾æ¾       |

---

## ğŸ“ æ•°æ®å¤„ç†æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 1 æ­¥ï¼šåŸå§‹æ•°æ®æå–                                        â”‚
â”‚  python main.py                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  output/entities.csv  â”‚ (åŸå§‹å®ä½“ï¼Œ~1000+æ¡)
           â”‚  output/relations.csv â”‚ (åŸå§‹å…³ç³»ï¼Œ~500+æ¡)
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 2 æ­¥ï¼šæ•°æ®æ¸…æ´—ï¼ˆåœ¨ main.py ä¸­å®Œæˆï¼‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  output/entities_clean.csv â”‚ (æ¸…æ´—å)
           â”‚  output/relations_clean.csvâ”‚ (æ¸…æ´—å)
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 3 æ­¥ï¼šæ•°æ®ä¿®æ­£                                            â”‚
â”‚  python fix_and_import.py                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  output/entities_fixed.csv â”‚ (ä¿®æ­£åï¼Œå®Œæ•´å­—æ®µ)
           â”‚  output/relations_fixed.csvâ”‚ (ä¿®æ­£åï¼Œå®Œæ•´å­—æ®µ)
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 4 æ­¥ï¼šè½¬æ¢ä¸º Neo4j æ ¼å¼                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  output/neo4j_import/nodes.csv     â”‚ (Neo4j æ ¼å¼)
           â”‚  output/neo4j_import/relations.csv â”‚ (Neo4j æ ¼å¼)
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ 5 æ­¥ï¼šå¯¼å…¥åˆ° Neo4j                                        â”‚
â”‚  python import_fixed_data.py                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  Neo4j  â”‚
                 â”‚ æ•°æ®åº“   â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | è¯´æ˜ | ç”¨é€” |
|------|------|------|
| `output/entities.csv` | åŸå§‹æå–çš„å®ä½“ | å¤‡ä»½ |
| `output/relations.csv` | åŸå§‹æå–çš„å…³ç³» | å¤‡ä»½ |
| `output/entities_clean.csv` | æ¸…æ´—åçš„å®ä½“ | å¤‡ä»½ |
| `output/relations_clean.csv` | æ¸…æ´—åçš„å…³ç³» | å¤‡ä»½ |
| `output/entities_fixed.csv` | ä¿®æ­£åçš„å®ä½“ï¼ˆå®Œæ•´å­—æ®µï¼‰ | æ•°æ®åˆ†æ |
| `output/relations_fixed.csv` | ä¿®æ­£åçš„å…³ç³»ï¼ˆå®Œæ•´å­—æ®µï¼‰ | æ•°æ®åˆ†æ |
| `output/neo4j_import/nodes.csv` | Neo4j èŠ‚ç‚¹æ–‡ä»¶ | **å¯¼å…¥ Neo4j** |
| `output/neo4j_import/relations.csv` | Neo4j å…³ç³»æ–‡ä»¶ | **å¯¼å…¥ Neo4j** |

---

## âš™ï¸ é…ç½®è¯´æ˜

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š`config/config.yaml`

```yaml
# PDF æå–é…ç½®
pdf:
  input_directory: ./æ–‡çŒ®
  parallel_workers: 4 # å¹¶è¡Œå¤„ç†è¿›ç¨‹æ•°ï¼ˆnull=è‡ªåŠ¨æ£€æµ‹ï¼‰

# ç³»ç»ŸåŠŸèƒ½å¼€å…³
system:
  enable_cache: true # ç¼“å­˜æœºåˆ¶ï¼ˆæ¨èå¯ç”¨ï¼Œé€Ÿåº¦æå‡10xï¼‰
  enable_parallel: true # å¹¶è¡Œå¤„ç†ï¼ˆæ¨èå¯ç”¨ï¼‰
  enable_incremental: false # å¢é‡æ›´æ–°ï¼ˆé¦–æ¬¡è¿è¡Œè®¾ä¸º falseï¼‰

# å®ä½“è¯†åˆ«é…ç½®
entity:
  max_entity_length: 30
  domain_dict_file: ./config/domain_dict.json # å¤–éƒ¨é¢†åŸŸè¯å…¸

# æ•°æ®æ¸…æ´—é…ç½®
cleaning:
  confidence_threshold: 0.65 # å…³ç³»ç½®ä¿¡åº¦é˜ˆå€¼ï¼ˆ0.60-0.70ï¼‰
  enable_entity_linking: false # å®ä½“é“¾æ¥ä¸æ¶ˆæ­§ï¼ˆæå‡å‡†ç¡®ç‡10-15%ï¼‰
```

### é…ç½®å»ºè®®

| åœºæ™¯               | `confidence_threshold` | `enable_entity_linking` | è¯´æ˜                 |
| ------------------ | ---------------------- | ----------------------- | -------------------- |
| é«˜è´¨é‡æ¨¡å¼ï¼ˆç§‘ç ”ï¼‰ | 0.70                   | true                    | è´¨é‡ä¼˜å…ˆï¼Œæ•°é‡è¾ƒå°‘   |
| å¹³è¡¡æ¨¡å¼ï¼ˆæ¨èï¼‰   | 0.65                   | false                   | è´¨é‡ä¸æ•°é‡å¹³è¡¡       |
| é«˜å¬å›æ¨¡å¼ï¼ˆæ¢ç´¢ï¼‰ | 0.60                   | false                   | æ•°é‡ä¼˜å…ˆï¼Œå¯èƒ½æœ‰å™ªå£° |

---

## ğŸ” Neo4j ä½¿ç”¨æŒ‡å—

### è¿æ¥ä¿¡æ¯

- **Neo4j Browser**: http://localhost:7474
- **è¿æ¥ URI**: `neo4j://127.0.0.1:7687`
- **é»˜è®¤ç”¨æˆ·**: `neo4j`
- **é»˜è®¤å¯†ç **: `12345678`

### åŸºç¡€æŸ¥è¯¢

```cypher
// æŸ¥çœ‹æ‰€æœ‰èŠ‚ç‚¹ç±»å‹å’Œæ•°é‡
MATCH (n)
RETURN labels(n)[0] AS ç±»å‹, count(n) AS æ•°é‡
ORDER BY æ•°é‡ DESC;

// æŸ¥çœ‹æ‰€æœ‰å…³ç³»ç±»å‹å’Œæ•°é‡
MATCH ()-[r]->()
RETURN type(r) AS å…³ç³»ç±»å‹, count(r) AS æ•°é‡
ORDER BY æ•°é‡ DESC;
```

### ä¼ æ’­é“¾åˆ†æ

```cypher
// å®Œæ•´ä¼ æ’­é“¾æŸ¥è¯¢
MATCH (d:Disease {name: 'æ¾æçº¿è™«ç—…'})-[:hasPathogen]->(p:Pathogen)
MATCH (d)-[:hasVector]->(v:Vector)
MATCH (d)-[:hasHost]->(h:Host)
MATCH (d)-[:hasSymptom]->(s:Symptom)
RETURN d.name AS ç–¾ç—…, 
       p.name AS ç—…åŸä½“, 
       collect(v.name) AS åª’ä»‹, 
       collect(h.name) AS å®¿ä¸»,
       s.name AS ç—‡çŠ¶;
```

### å¯è§†åŒ–å…³ç³»ç½‘ç»œ

```cypher
// æŸ¥çœ‹æ¾æçº¿è™«ç—…çš„å®Œæ•´å…³ç³»ç½‘ç»œ
MATCH path = (d:Disease {name: 'æ¾æçº¿è™«ç—…'})-[*1]-(n)
RETURN path
LIMIT 50;
```

### æ›´å¤šæŸ¥è¯¢ç¤ºä¾‹

å®Œæ•´æŸ¥è¯¢ç¤ºä¾‹è¯·æŸ¥çœ‹ï¼š`output/neo4j_import/queries.cypher`

---

## ğŸ”§ æ•…éšœæ’é™¤

### KeyBERT å¯¼å…¥é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š`ImportError: cannot import name 'cached_download'`

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
pip uninstall sentence-transformers huggingface-hub keybert -y
pip install sentence-transformers==2.3.1 huggingface-hub>=0.19.0 keybert==0.8.5
```

### spaCy æ¨¡å‹æœªå®‰è£…

**é”™è¯¯ä¿¡æ¯**ï¼š`OSError: [E050] Can't find model 'zh_core_web_sm'`

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
python -m spacy download zh_core_web_sm
python -m spacy download en_core_web_sm
```

### Neo4j è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š`Connection refused` æˆ– `Failed to establish connection`

**åŸå› **ï¼šNeo4j æœåŠ¡æœªå¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
# æ–¹æ³• 1: ä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨ Neo4j
neo4j start

# æ–¹æ³• 2: ä½¿ç”¨ brew servicesï¼ˆmacOSï¼‰
brew services start neo4j

# æ–¹æ³• 3: ä½¿ç”¨ Neo4j Desktop
# æ‰“å¼€ Neo4j Desktop åº”ç”¨ï¼Œç‚¹å‡»æ•°æ®åº“çš„ Start æŒ‰é’®

# æ£€æŸ¥ Neo4j çŠ¶æ€
neo4j status

# è®¿é—® Neo4j Browser ç¡®è®¤è¿è¡Œ
open http://localhost:7474
```

**å¦‚æœæœªå®‰è£… Neo4j**ï¼š

```bash
# macOS ä½¿ç”¨ Homebrew å®‰è£…
brew install neo4j

# æˆ–ä¸‹è½½ Neo4j Desktopï¼ˆæ¨èï¼‰
# è®¿é—®: https://neo4j.com/download/
```

### å…³ç³»æ•°é‡ä¸º 0

**åŸå› **ï¼šç½®ä¿¡åº¦é˜ˆå€¼å¤ªé«˜

**è§£å†³æ–¹æ¡ˆ**ï¼šä¿®æ”¹ `config/config.yaml`ï¼Œè®¾ç½® `confidence_threshold: 0.65` æˆ–æ›´ä½

### Neo4j CSV å¯¼å…¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š`Couldn't load the external resource`

**è§£å†³æ–¹æ¡ˆ**ï¼šç¡®ä¿ CSV æ–‡ä»¶åœ¨ Neo4j çš„ import ç›®å½•ä¸‹

```bash
# æŸ¥æ‰¾ Neo4j import ç›®å½•
# Linux/Mac: ~/neo4j/import/ æˆ– /var/lib/neo4j/import/
# Windows: C:\Users\YourName\neo4j\import\

# å¤åˆ¶æ–‡ä»¶
cp output/neo4j_import/*.csv ~/neo4j/import/
```

### å†…å­˜ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**ï¼šå‡å°‘å¹¶è¡Œè¿›ç¨‹æ•°

```yaml
# config/config.yaml
pdf:
  parallel_workers: 2 # é™ä½ä» 4
```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### å…¸å‹å¤„ç†é€Ÿåº¦ï¼ˆ10 ä¸ª PDFï¼Œçº¦ 50MBï¼‰

| æŒ‡æ ‡                | é¦–æ¬¡è¿è¡Œ | ç¼“å­˜åé‡è¿è¡Œ | å¢é‡æ›´æ–°ï¼ˆ2 ä¸ªæ–° PDFï¼‰ |
| ------------------- | -------- | ------------ | ---------------------- |
| å¤„ç†æ—¶é—´            | 4-8 åˆ†é’Ÿ | 30-60 ç§’     | 1-2 åˆ†é’Ÿ               |
| å®ä½“å‡†ç¡®ç‡          | ~82%     | -            | -                      |
| å…³ç³»å‡†ç¡®ç‡          | ~76%     | -            | -                      |
| å™ªå£°å‡å°‘ï¼ˆvs v1.0ï¼‰ | -35%     | -            | -                      |

### å…¸å‹æ•°æ®é‡

- **åŸå§‹å®ä½“**ï¼š~1000 æ¡ â†’ æ¸…æ´—å ~300 æ¡
- **åŸå§‹å…³ç³»**ï¼š~500 æ¡ â†’ æ¸…æ´—å ~200 æ¡
- **æœ€ç»ˆå®ä½“**ï¼š~250 æ¡ï¼ˆå¯ç”¨å®ä½“é“¾æ¥ï¼‰
- **æœ€ç»ˆå…³ç³»**ï¼š~150 æ¡ï¼ˆé«˜è´¨é‡ï¼‰

---

## ğŸ”§ æŠ€æœ¯æ ˆ

- **è¯­è¨€**ï¼šPython 3.8+
- **PDF å¤„ç†**ï¼šPyMuPDF
- **è‡ªç„¶è¯­è¨€å¤„ç†**ï¼šspaCyã€jiebaã€YAKEã€KeyBERT
- **æ•°æ®å¤„ç†**ï¼špandasã€numpyã€scikit-learn
- **å›¾æ•°æ®åº“**ï¼šNeo4j 4.x / 5.x

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **PDF æ ¼å¼**ï¼šä»…æ”¯æŒå¯æå–æ–‡æœ¬çš„ PDFï¼ˆä¸æ”¯æŒæ‰«æç‰ˆï¼‰
2. **å‡†ç¡®ç‡**ï¼šè‡ªåŠ¨æå–çš„å‡†ç¡®ç‡çº¦ 70-80%ï¼Œå»ºè®®äººå·¥å®¡æ ¸å…³é”®æ•°æ®
3. **å†…å­˜éœ€æ±‚**ï¼šå¤§è§„æ¨¡å¤„ç†ï¼ˆ>50 ä¸ª PDFï¼‰éœ€è¦ 4GB+ å†…å­˜
4. **ç½®ä¿¡åº¦é˜ˆå€¼**ï¼šç³»ç»Ÿç”Ÿæˆçš„å…³ç³»ç½®ä¿¡åº¦æœ€é«˜ä¸º 0.72ï¼Œé˜ˆå€¼ä¸åº”è¶…è¿‡æ­¤å€¼

---

## ğŸ“š æ‰©å±•åŠŸèƒ½

### å¢é‡æ›´æ–°

ä¿®æ”¹ `config.yaml` ä¸­ `enable_incremental: true`ï¼Œåªå¤„ç†æ–°å¢ PDF

### å®ä½“é“¾æ¥

ä¿®æ”¹ `config.yaml` ä¸­ `enable_entity_linking: true`ï¼Œæå‡å‡†ç¡®ç‡ 10-15%

### é¢†åŸŸè¯å…¸

ç¼–è¾‘ `config/domain_dict.json` æ·»åŠ é¢†åŸŸä¸“ä¸šæœ¯è¯­

### å…³ç³»æ¨¡å¼

ç¼–è¾‘ `relation_extractor.py` ä¸­çš„æ­£åˆ™æ¨¡å¼æ‰©å±•å…³ç³»ç±»å‹

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦æœ¯ç ”ç©¶ä½¿ç”¨ã€‚

---

<div align="center">

**å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue**

Made with â¤ï¸ for Pine Wilt Disease Research

</div>
